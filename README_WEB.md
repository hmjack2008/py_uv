# 国际象棋游戏

这是一个使用Python和Pygame开发的国际象棋游戏。

## 系统要求

- Python 3.12 或更高版本
- Pygame 2.6.1 或更高版本

## 安装步骤

1. 确保已安装Python 3.12
2. 安装依赖包：
   ```bash
   pip install pygame>=2.6.1
   ```

## 运行游戏

在项目根目录下运行：
```bash
python main.py
```

## 游戏操作说明

1. 游戏启动后会显示一个8x8的棋盘，白方先行
2. 操作方式：
   - 点击要移动的棋子，可用的移动位置会被高亮显示（浅黄色）
   - 点击高亮的目标位置即可移动棋子
   - 如果移动不合法，棋子将保持原位
   - 轮到对方下棋时，只能移动对方的棋子

3. 特殊规则：
   - 系统会自动检查将军状态
   - 当一方的王被将军时，会显示警告信息

4. 游戏界面说明：
   - 棋盘使用中文字符显示棋子
   - 白色棋子显示为白色文字
   - 黑色棋子显示为黑色文字
   - 选中的棋子位置会显示为浅绿色
   - 可移动的位置会显示为浅黄色
   - 界面顶部显示双方用时（时:分:秒格式）
   - 当一方的王被吃掉时，立即显示胜利信息
   - 游戏结束后按空格键或鼠标点击可以开始新局并重置计时器

5. 退出游戏：
   - 点击窗口的关闭按钮即可退出游戏

````

````

# 网页版国际象棋游戏

这是一个使用 FastAPI 和 WebSocket 开发的网页版国际象棋游戏。

## 系统要求

- Python 3.12 或更高版本
- FastAPI 0.104.1 或更高版本
- Uvicorn 0.24.0 或更高版本
- WebSockets 12.0 或更高版本
- Jinja2 3.1.2 或更高版本

## 安装步骤

1. 确保已安装 Python 3.12
2. 安装依赖包：
   ```bash
   pip install fastapi uvicorn websockets jinja2
   ```

## 运行游戏服务器

在项目根目录下运行：
```bash
python web_main.py
```

服务器将在 http://localhost:8000 启动

## 游戏说明

1. 使用浏览器访问 http://localhost:8000
2. 每个游戏会话都有唯一的 ID，可以通过不同浏览器窗口加入同一个游戏
3. 游戏界面说明：
   - 棋盘顶部显示双方用时
   - 棋子使用中文显示
   - 白色棋子为白色文字
   - 黑色棋子为黑色文字
   - 选中的棋子位置显示为浅绿色
   - 可移动的位置显示为浅黄色

4. 游戏操作：
   - 点击要移动的棋子选中
   - 再次点击目标位置完成移动
   - 如果移动不合法，棋子将保持原位
   - 轮到对方下棋时，只能移动对方的棋子

5. 游戏规则：
   - 保持标准国际象棋规则
   - 系统自动检查将军状态
   - 吃掉对方国王时游戏结束
   - 游戏结束后会显示胜利方

## 技术架构

- 后端：FastAPI + WebSocket
- 前端：HTML + CSS + JavaScript
- 通信：WebSocket 实时对战
- 模板引擎：Jinja2

## 文件结构

```
py_uv_p2/
├── web_main.py          # FastAPI 主程序
├── templates/
│   └── chess.html       # 游戏界面模板
├── static/
│   └── css/
│       └── chess.css    # 样式文件
└── chess_board.py       # 棋盘逻辑类
```

## 注意事项

1. 确保防火墙不会阻止 WebSocket 连接
2. 建议使用现代浏览器（Chrome、Firefox、Edge 等）
3. 本地开发环境下使用 localhost，部署时需修改相应的服务器地址
